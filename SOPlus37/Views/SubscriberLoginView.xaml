<UserControl x:Class="SOPlus37.Views.SubscriberLoginView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:infra="clr-namespace:SOPlus37.Infrastructure"
             Background="White">

    <UserControl.Resources>
        <Style x:Key="ModernLoginButton" TargetType="Button">
            <Setter Property="Background" Value="#3b82f6"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="20,12"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>

        <Style x:Key="LinkButton" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#3b82f6"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="5,2"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>
    </UserControl.Resources>

    <Border Background="White" BorderBrush="#e2e8f0" BorderThickness="1">
        <Grid Margin="30">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Button Content="Войти как администратор"
                    Style="{StaticResource LinkButton}"
                    HorizontalAlignment="Right" Margin="0,0,0,20"
                    Command="{Binding GoToAdminLoginCommand}"/>

            <StackPanel Grid.Row="1" HorizontalAlignment="Center" Margin="0,0,0,20">
                <Border Background="#3b82f6" Width="60" Height="60" Margin="0,0,0,15">
                    <TextBlock Text="📱" FontSize="24" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>
                <TextBlock Text="SOPlus37" FontSize="28" FontWeight="Bold"
                           Foreground="#1e293b" HorizontalAlignment="Center"/>
                <TextBlock Text="Личный кабинет абонента" FontSize="16" Foreground="#64748b"
                           HorizontalAlignment="Center" Margin="0,5,0,0"/>
            </StackPanel>

            <StackPanel Grid.Row="2" VerticalAlignment="Center">
                <TextBlock Text="Номер телефона" FontSize="14" FontWeight="SemiBold"
                           Foreground="#374151" Margin="0,0,0,8"/>

                <TextBox Padding="15,12" FontSize="14"
                         Background="#f8fafc" BorderBrush="#e2e8f0" BorderThickness="1"
                         Margin="0,0,0,15"
                         Text="{Binding Phone, UpdateSourceTrigger=PropertyChanged}"/>

                <TextBlock Text="Пароль" FontSize="14" FontWeight="SemiBold"
                           Foreground="#374151" Margin="0,0,0,8"/>

                <PasswordBox Padding="15,12" FontSize="14"
                             Background="#f8fafc" BorderBrush="#e2e8f0" BorderThickness="1"
                             Margin="0,0,0,20"
                             infra:PasswordBoxHelper.BindPassword="True"
                             infra:PasswordBoxHelper.BoundPassword="{Binding Password, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

                <TextBlock Foreground="#dc2626" FontSize="13" TextWrapping="Wrap"
                               Text="{Binding Error}"/>
                
                <Button Content="Войти в личный кабинет"
                        Style="{StaticResource ModernLoginButton}"
                        Command="{Binding LoginCommand}"
                        Width="300" Height="45"
                        Margin="0,20,0,0"/>
            </StackPanel>

            <TextBlock Grid.Row="4" Text="© 2025 SOPlus37. Все права защищены."
                       FontSize="12" Foreground="#9ca3af" HorizontalAlignment="Center"
                       Margin="0,20,0,0"/>
        </Grid>
    </Border>
</UserControl>
